<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="shortcut icon" href="./favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#000000">
    <link rel="manifest" href="./manifest.json">
    <title>Test</title>
    <style>
      html, body {
        margin: 0;
        height: 100%;
        width: 100%;
        font-size: 16px;
        touch-action: manipulation;
        -ms-touch-action: manipulation;
      }
      .wrap {
        display: flex;
        width: 100%;
        height: 100%;
/*         overflow: hidden; */
      }
      .flex-column {
        display: flex;
        flex-direction: column;
      }
      .flex-center {
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .block {
        height: 50px;
        flex: 0 0 50px;
      }
      .header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        background: #aaa;
        z-index: 3;
      }
      .footer {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: #aaa;
        z-index: 3;
      }
      .scrollable {
/*         padding-top: 50px; */
/*         padding-bottom: 50px; */
        width: 100%;
        max-width: 100%;
/*         height: 100%; */
        
        overflow-y: auto;
        overflow-x: hidden;
        min-height: 0;
        -webkit-overflow-scrolling: touch;
        -webkit-overflow-scroll: touch;
        scrollbar-width: thin;
      }
      .flex-1 {
        flex: 1;
      }
      .content {
        padding: 20px;
      }
      .sticky-header {
        position: sticky;
        top: 50px;
        z-index: 2;
        background: white;
      }
      .sticky-footer {
        position: sticky;
        bottom: 50px;
        z-index: 2;
        background: white;
      }
    </style>
  </head>
  <body>

    <div>
      <div class="wrap">
        <div class="wrap flex-column">
          <div class="flex-center header block">header</div>
          <div class="sticky-header block flex-center">sticky header</div>
    
          <div class="scrollable flex-1 flex-column">
            <div class="block"></div>            
            <div class="flex-column">
              <div class="content">
                TEST
  
                <section aria-labelledby="requirements">
                  <h2>
                    <a href="https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps/Tutorials/js13kGames/Installable_PWAs#requirements">Requirements</a>
                  </h2>
                  <div class="section-content">
                    <p>To make our example application installable, the following things are needed:</p>
                    <ul>
                      <li>A web application manifest, with the <a href="https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps/Guides/Making_PWAs_installable#the_web_app_manifest">correct members filled in</a>.</li>
                      <li>The website to be served from a secure (HTTPS) domain.</li>
                      <li>An icon to represent the app on the device.</li>
                      <li>A <a href="https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API">service worker</a> registered, to allow the app to work offline.</li>
                    </ul>
                  </div>
                </section>
            
                <button id="install" hidden>Install PWA</button>
  
  
                <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>
                <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>
                <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>
                <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>
                <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>
                <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>
                <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>
                <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>
                <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>
                <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>

                
              </div>
            </div>
            <div class="block"></div>
          </div>
          <div class="sticky-footer block flex-center">sticky footer</div>
          <div class="flex-center footer block">footer</div>
        </div>
      </div>
    </div>
  
    <script>

      const init = async () => {
        let installPrompt = null;
        const installButton = document.querySelector("#install");
        
        window.addEventListener("beforeinstallprompt", (event) => {
          event.preventDefault();
          installPrompt = event;
          installButton.removeAttribute("hidden");
        });
  
        installButton.addEventListener("click", async () => {
          if (!installPrompt) {
            return;
          }
          const result = await installPrompt.prompt();
          console.log(`Install prompt was: ${result.outcome}`);
          installPrompt = null;
          installButton.setAttribute("hidden", "");
        });
      }

      const registerServiceWorker = async () => {
        if ("serviceWorker" in navigator) {
          try {
            const registration = await navigator.serviceWorker.register("./sw.js", {
              scope: "./",
            });
            if (registration.installing) {
              console.log("Service worker installing");
            } else if (registration.waiting) {
              console.log("Service worker installed");
            } else if (registration.active) {
              console.log("Service worker active");
              init();
            }
          } catch (error) {
            console.error(`Registration failed with ${error}`);
          }
        }
      };
      registerServiceWorker();
      
    </script>
  </body>
</html>
